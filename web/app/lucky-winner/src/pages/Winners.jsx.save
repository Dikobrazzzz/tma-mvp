  }[tab] || { base: 100, userPrefix: "user" };

  for (let i = 1; i <= 25; i++) {
    const isTop = tab === "top10";
    const multiplier = isTop ? (26 - i) * 100 : (i % 5 + 1) * 10;
    const amount = conf.base + multiplier + (isTop ? i * 50 : i);
    const wins = `€${amount.toLocaleString("en-US")}`;
    const count = isTop ? (i % 5) + 3 : (i % 4) + 1;
    const user = `${conf.userPrefix}${(1000 + i).toString(36)}****`;
    rows.push({ n: i, user, count, wins });
  }
  return rows;
}

export default function Winners() {
  const { t } = useTranslation();

  const { token } = useContext(AuthCtx);
  const [tab, setTab] = useState("today");
  const [data, setData] = useState([]);
  const [loading, setLoading] = useState(true);

  useEffect(() => {
    setLoading(true);
    const timeoutId = setTimeout(() => {
      setData(genMock(tab));
      setLoading(false);
    }, 400);
    return () => clearTimeout(timeoutId);
  }, [tab]);

  const tabs = {
    today: t('today'),
    yesterday: t('yesterday'),
    last7: t('last7Days'),
    top10: t('top10Win')
  };

  if (loading) {
    return (
      <div className="min-h-screen bg-[#151515] text-white flex items-center justify-center">
        {t('loading')}...
      </div>
    );
  }

  return (
    <div className="min-h-screen bg-[#151515] text-white flex flex-col relative">
      {/* Фон */}
      <img src={wall} alt="" className="fixed inset-x-0 top-[-14%] w-full scale-30 object-cover z-0" />

      <Header />

      {/* Заголовок — сверху */}
      <div className="relative z-10 px-4 pt-4 pb-2">
        <h1 className="text-3xl font-bold text-white flex items-center gap-2">
          <img src={icWinners} alt="" className="h-9 w-9" />
          {t('winners')}
        </h1>
      </div>

      {/* Контент сдвинут на 12vh вниз */}
      <div className="relative z-10 mt-[12vh] flex flex-col items-center">
        {/* Табы — по центру */}
        <div className="flex gap-3 flex-wrap justify-center mb-4">
          {Object.entries(tabs).map(([key, label]) => (
            <Tab key={key} active={tab === key} onClick={() => setTab(key)}>
              {label}
            </Tab>
          ))}
        </div>

        {/* Таблица */}
        <div
          className="w-[90%] mx-auto rounded-3xl overflow-hidden shadow-lg"
          style={{
            backgroundColor: "#1A1A1A",
            border: "1px solid rgba(255,255,255,0.1)",
            boxShadow: "0 0 20px rgba(0,0,0,0.3)",
          }}
        >
          <div className="overflow-y-auto px-4">
            <table className="w-full text-[6px] text-[#8C8C8C]">
              <thead>
                <tr className="text-[#FFFE45]">
                  <th className="py-2 text-center text-[10px]">{t('number')}</th>
                  <th className="py-2 text-left   text-[10px]">{t('userId')}</th>

                  {/* Переносы строк. Размер шрифта заголовков — прежний */}
                  <th className="py-2 text-center text-[10px] leading-tight">
                    <span className="block">Total wins</span>
                    <span className="block">count</span>
                  </th>
                  <th className="py-2 text-center text-[10px] leading-tight">
                    <span className="block">Total wins</span>
                    <span className="block">amount</span>
                  </th>
                </tr>
              </thead>

              <tbody>
                {data.map((item, i) => (
                  <tr key={i} className="border-b border-white/10">
                    {/* Увеличен шрифт данных (в 2 раза от 10px → 20px) */}
                    <td className="py-2 text-[20px] text-center">{item.n}</td>
                    <td className="py-2 text-[20px] text-left">{item.user}</td>
                    <td className="py-2 text-[20px] text-center">{item.count}</td>
                    <td className="py-2 text-[20px] text-center">{item.wins}</td>
                  </tr>
                ))}
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  );
}
